<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" >
    <title>Gather:集める | Tomoya Onuki</title>
        <link rel="stylesheet" type="text/css" href="../my.css">
    <script src="../sorce/my_processing/processing.min.js"></script>
  </head>

  <body class="main body">
    <script type="text/javascript" src="../js/header.js"></script>


   <div>

      <h1 class="title first">Gather:集める</h1>

      <div class="main">

        マウスのクリックやタップ操作を用いて，様々な模様を描けるインタラクションツール。<br>
        集合と解散を繰り返し続ける大量の粒子を操ることで，曲線的な図形を描くことができる。
        個々の粒子はただの点であるが，それは集合体として大きな形を作り出し意味をもつ。<br>
        <p>
        Programing: Processing<br>
      </p>
        <hr>
      </div>
        <center>
            <script type="application/processing">
                int SIZE = 1500;
Ball[] ball = new Ball[SIZE];

void setup() {
  size(600, 600);
  for(int i = 0; i < SIZE; i++){
    ball[i] = new Ball();
  }
}

void draw() {
  fill(0, 50);
  stroke(0, 50);
  rect(0, 0, width, height);
  for(int i = 0; i < SIZE; i++){
    ball[i].update();
  }
}

void mouseDragged() {
  for(int i = 0; i < SIZE; i++){
    ball[i].mouse();
  }
}

void mousePressed() {
  for(int i = 0; i < SIZE; i++){
    ball[i].mouse();
  }
}

class Ball{
  float vx, vy;//方向
  float speed;//速さ
  float x, y;//座標
  float pre_x, pre_y;//前の座標
  float size;//方向ベクトルのサイズ
  float easing = random(0.1, 0.4);
  float R = width;

  Ball(){
    speed = 20;
    x = random(-width/2, width*3/2);
    y = random(-height/2, height*3/2);
    pre_x = x; pre_y = y;
    //方向の初期化:中心に集まる
    size = sqrt(sq(width/2 - x) + sq(height/2 - y));
    vx = (width/2 - x) / size;
    vy = (height/2 - y) / size;
  }

  void update() {
    x += vx * speed * easing;
    y += vy * speed * easing;

    //表示
    stroke(255);
    line(x, y, pre_x, pre_y);

    pre_x = x;
    pre_y = y;
    size = sqrt(sq(width/2 - x) + sq(height/2 - y));
    if(size > R){
      vx = (width/2 - x) / size;
      vy = (height/2 - y) / size;
    }
  }

  //マウスドラッグorクリックでマウスの座標に方向転換
  void mouse(){
    size = sqrt(sq(mouseX - x) + sq(mouseY - y));
    vx = (mouseX - x) / size;
    vy = (mouseY - y) / size;
  }
}
            </script>
            <canvas id="app"></canvas>
        </center>
        <br>
        <hr>
      <center>
        <div class="figures">
          <div class="figure"> <img widht=240px height=240px src="../img/gather/01.png"> </div>
          <div class="figure"> <img widht=240px height=240px src="../img/gather/02.png"> </div>
          <div class="figure"> <img widht=240px height=240px src="../img/gather/03.png"> </div>
          <div class="figure"> <img widht=240px height=240px src="../img/gather/04.png"> </div>
          <div class="figure"> <img widht=240px height=240px src="../img/gather/05.png"> </div>
          <div class="figure"> <img widht=240px height=240px src="../img/gather/06.png"> </div>
        </div>
      </center>
      <hr>

      <center style="font-size: 1.5vh; margin-top:30px; margin-bottom:80px;" class="main">
      <p>©️2017 - 2019 小貫智弥 | Tomoya Onuki</p>
        </center>
    </div>
  </body>
</html>
